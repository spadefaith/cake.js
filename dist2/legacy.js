!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},i=t.parcelRequire2002;null==i&&((i=function(t){if(t in e)return e[t].exports;if(t in n){var i=n[t];delete n[t];var r={id:t,exports:{}};return e[t]=r,i.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){n[t]=e},t.parcelRequire2002=i),i.register("iuSND",(function(t,e){const n=i("jU2nf")();t.exports=function(t){const e={};return class{registerNotifier(t){this.notify.push(t)}install(){this.session=new n({child:"object",storage:"session",name:`_cake_${this.name}_cf`})}notifier(t,e){const n=e.value,i=e.bind;return this.reactiveData[t]||(this.reactiveData[t]={}),this.reactiveData[t][i]=n,this.set(i,n)}getInputData(t="json",e){let n=e||this.name,i=JSON.parse(JSON.stringify(this.reactiveData[n]));for(let r in i){let t=i[r];i[r]=this.sanitize(t)}if("json"==t)return i;if("formdata"==t){const t=new FormData;for(let e in i){let n=i[e];t.append(e,n)}return t}}hook(t,n,i){e[t]||(e[t]={}),e[t][n]||(e[t][n]=[]),e[t][n].push(i)}get(t,e=!1){this.pKeys[t];return e?this.session.get(t,!0):this.session.get(t)}set(t,n){let i=`${this.name}-${t}`,r=this.notify,s=this.name;return this.pKeys[t]=i,new Promise((async(e,i)=>{"password"!=t&&this.session.createOrUpdate(t,n),e()})).then((async()=>Promise.all(r.map((i=>i(t,n,null,s).then((()=>{const i=e[this.name];if(i){const e=i[t];e&&e.forEach((t=>{t(n)}))}})))))))}removeCache(t){return this.session.remove(t)}constructor(t){this.name=t,this.reactiveData={},this.notify=[],this.install(this.name),this.pKeys={},this.sanitize=function(t){const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return"string"==typeof t?t.replace(/[&<>"'/]/gi,(t=>e[t]||"")):t}}}}})),i.register("jU2nf",(function(t,e){var n=i("1WNVd");t.exports=function(){function t(t){return t?t.constructor.name.toLowerCase():null}function e(t,e){for(let n in t)t.hasOwnProperty(n)&&e(t[n],n)}function i(t){return null===t}function r(e){return"object"==t(e)}var s=function(e,n){var i=null;return"array"==t(e)?i=function(e,n){for(var i=null,r=0;r<e.length;r++){var s=e[r];if("object"==t(n)){var o=n,l=Object.keys(n)[0],a=o[l];if("object"==t(s)&&s[l]==a){i=r;break}}else if("array"!=t(n)&&n==s){i=r;break}}return i}(e,n):"object"==t(e)&&(i=function(e,n){var i=null,r=t(n);if("object"==r){var s=Object.keys(n)[0];e[i]!=undefined&&e[i]==n[s]&&(i=s)}else"string"==r&&(i=n);return i}(e,n)),i},o=function(n,i){if("array"==t(n)){let e=new Set(n);"array"==t(i)?i.forEach((t=>{e.add(t)})):e.add(i),n=Array.from(e)}else r(n)&&(r(i)?e(i,(function(t,e){n[e]=t})):n[i]=i);return n},l=function(n,o){var l=s(n,o);return"array"==t(n)?i(l)?n.includes(o):n[l]=o:"object"==t(n)&&(i(l)?r(o)?e(o,(function(t,e){!function(t,e,n){t=Object.assign(t,{[n]:e})}(n,t,e)})):n[o]=o:n[l]=o),n},a=function(e,n){if("string"==t(n)){var r=s(e,n);if("object"==t(e))delete e[r];else if("array"==t(e)){for(var o=[],l=0;l<e.length;l++)l!=r&&o.push(e[l]);e=o}return e}return"object"==t(n)?Object.filter(e,(function(t,e){return!(n[e]!=undefined&&n[e]==t)})):"array"==t(n)?Object.filter(e,(function(t,e){return!n.contains(e)})):!i(r)&&void 0},c=function(e,n){var i=t(n);if("string"==i){var r=s(e,n);if(0==r||r)return e[r]}else{if("object"==i)return Object.filter(e,(function(t,e){var i;return!(i=n[e],i===undefined||n[e]!=t)}));if("array"==i)return Object.filter(e,(function(t,e){return n.contains(e)}))}return null},h=function(e,n){var i=t(n);return"string"==i?Object.filter(e,(function(t,e){return e!=n})):"object"==i?Object.filter(e,(function(t,e){return Object.some(n,(function(n,i){return!(i==e&&n==t)}))})):"array"==i?Object.filter(e,(function(t,e){return!n.contains(e)})):null};return class{has(t){var e=this.storage.open(),n=s(e,t);return!i(n)&&n}get(t,e){if(e){var n=this.storage.open();return c(n,t)}return new Promise(((t,e)=>{setTimeout((()=>{var e=this.storage.open();t(e)}))})).then((e=>c(e,t)))}getNot(t){var e=this.storage.open();return h(e,t)}getAll(){var t=this.storage.open();return Promise.resolve(t)}update(t,e){var n=this.storage.open(),i=s(n,t);return!(0!=i&&!i)&&(n=l(n,data),this.storage.close(n))}createOrUpdate(t){if(arguments.length>1){t={[arguments[0]]:arguments[1]}}var e=this.storage.open();e=l(e,t);return this.storage.close(e)}create(t){var e=this.storage.open();return e=o(e,t),this.storage.close(e)}remove(t){var e=this.storage.open();return e=a(e,t),this.storage.close(e)}constructor(e){this.name=e.name,this.storageType=e.storage,this.child=e.child||"object";try{"string"==t(this.child)&&(this.child="array"==this.child?[]:"object"==this.child?{}:null)}catch(i){"session"==this.storageType?sessionStorage.clear():"local"==this.storageType&&localStorage.clear(),"string"==t(this.child)&&(this.child="array"==this.child?[]:"object"==this.child?{}:null)}if(!["array","object"].includes(t(this.child)))throw new Error("the child must be an object or array type.");this.storage=new class{init(t){return!!this[this.type]&&(this[this.type](t),!0)}open(){return"session"==this.type?JSON.parse(sessionStorage[this.name])[this.name]:"local"==this.type?JSON.parse(localStorage[this.name])[this.name]:this.cache[this.name]}close(t){return this.child=t,this.recache(),this.init(!0)}recache(){this.cache[this.name]=this.child}create(){this.cache[this.name]=this.child}array(){this.create()}object(t){this.create()}session(t){t||this.recache();try{sessionStorage[this.name]||t?t&&sessionStorage.setItem(this.name,JSON.stringify(this.cache)):sessionStorage.setItem(this.name,JSON.stringify(this.cache))}catch(i){this.recache()}}local(t){t||this.recache();try{localStorage[this.name]||t?t&&localStorage.setItem(this.name,JSON.stringify(this.cache)):localStorage.setItem(this.name,JSON.stringify(this.cache))}catch(i){this.recache()}}constructor(e,i,r){this.type=e,this.name=`${n.instanceID()}-${i}`,this.child=r,this.cache={},"string"==t(this.child)&&(this.child="array"==r?[]:"object"==r&&{})}}(this.storageType,this.name,this.child),this.storage.init()}}}})),i.register("1WNVd",(function(t,e){var n={};const i={"typeof":function(t){switch(!0){case"string"==typeof t:return"string";case"number"==typeof t:return"number";case t instanceof Array:return"array";case t instanceof Function:return"function";case t instanceof HTMLCollection:return"htmlcollection";case t instanceof NodeList:return"htmlnodelist";case t instanceof Element:return"domlement";case t instanceof Object:return"object"}},isArray:function(t){return"array"==this["typeof"](t)},isObject:function(t){return"object"==this["typeof"](t)},isNumber:function(t){return"number"==this["typeof"](t)},isString:function(t){return"string"==this["typeof"](t)},isHTMLCollection:function(t){return"htmlcollection"==this["typeof"](t)},isNodeList:function(t){return"htmlnodelist"==this["typeof"](t)},isElement:function(t){return"domlement"==this["typeof"](t)},isFunction:function(t){return"function"==this["typeof"](t)}},r={_each:function(t,e,n){if("object"==n){var i=0;for(var r in t)t.hasOwnProperty(r)&&(e({key:r,value:t[r]},i),i+=1)}else for(var s=0;s<t.length;s++)e(t[s],s)},each:function(t,e){var n=i.isArray(t)||t.length?"array":"object";this._each(t,(function(t,n){e(t,n)}),n)},map:function(t,e){var n=i.isArray(t)||t.length?"array":"object",r=t.length&&"array"==n?[]:{};return this._each(t,(function(t,i){var s=e(t,i);"object"==n?r[s.key]=s.value:r.push(s)}),n),r},reduce:function(t,e,n){var r=i["typeof"](t);return this._each(t,(function(t,i){e=n(t,e,i)}),r),e},filter:function(t,e){var n=i.isArray(t)||t.length?"array":"object",r=t.length&&"array"==n?[]:{};return this._each(t,(function(t,i){e(t,i)&&("object"==n?r[t.key]=t.value:r.push(t.value))}),n),r}},s=function(t,e){e&&(e=e.split("."));for(let n=0;n<e.length;n++){let i=e[n];if(!t[i]){t=null;break}t=t[i]}return t},o={removeWhiteSpace:t=>String(t).split(" ").join("")};function l(){console.log(...arguments)}l["if"]=function(t){return t?function(){console.log(...arguments)}:()=>{}};const a={perf:function(t){console.time("test"),t(),console.timeEnd("test")},logTest:function(t,e,n){try{t=JSON.parse(t)}catch(i){}try{n=JSON.parse(n)}catch(r){}switch(e){case"==":return t==n;case"!=":return t!=n;case"<":return t<n;case">":return t>n;case">=":return t>=n;case"<=":return t<=n}},toUrlSearchParams:function(t,e=!0){let n="";for(let i in t)if(t.hasOwnProperty(i)){let e=t[i];e.toString().includes("Object")&&(e=JSON.stringify(e)),n+=`${encodeURI(i)}=${encodeURI(e)}&`}return n.slice(0,n.length-1)},sanitize:function(t,e=[]){return"string"!=typeof t?t:decodeURIComponent(t.replace(/<.*>/,""))},toFormData:function(t,e={}){const n=[],i=t.querySelectorAll("TEXTAREA"),s=t.querySelectorAll("INPUT"),o=t.querySelectorAll("SELECT");function l(t,e,n){let i=[];for(let o=0;o<t.length;o++){let n=!0;try{n=t[o].closest(".cake-template")}catch(r){}try{n||(n=t[o].classList.includes("cake-template"))}catch(s){}n||("file"==t[o].getAttribute("type")?i.push(t[o]):e.push(t[o]))}i.length&&(i.forEach((t=>{e.push(t)})),i=[])}l(i,n),l(o,n),l(s,n);let a={};for(let r=0;r<n.length;r++){let i=n[r],s=i.name||i.id;if(s&&["{{","((","[[","<<","%%","&&"].includes(s));else{let n=t[s];if(n){if(n.nodeType);else if(n.length)for(let e=0;e<n.length;e++){let t=n[e];if(1==t.nodeType){if(!t.closest(".cake-template")){n=t;break}}}const t=n.tagName;"SELECT"==t?value=n.value:"INPUT"==t&&"checkbox"==n.getAttribute("type")?value=n.checked:"INPUT"==t&&"file"==n.getAttribute("type")?value=n.files:0==e.sanitize?value=n.value:value=this.sanitize(n.value,e.skipsanitize),e.json&&e.trim?""!=value&&(a[s]=value):a[s]=value}}}if(e.json)return a;{let t=new FormData;for(let e in a)if(a.hasOwnProperty(e)){let n=a[e];"FileList"==n.constructor.name?r.each(n,(function(n,i){t.append(e,n,n.name)})):t.append(e,n)}return t}},splitBySpace:function(t,e){if(t){t=t.split(" ");for(let n=0;n<t.length;n++)e(t[n])}},toArray(t){let e=[];if(!t.length)return e;for(let n=0;n<t.length;n++)e.push(t[n]);return e},timeOut(t,e=1){setTimeout((()=>{t()}),e)},instanceID:()=>location.origin,recurse:(t,e)=>new Promise(((n,i)=>{try{let i=t.length,r=0;const s=()=>{i>r?(e(t[r]),r+=1,s()):n()};s()}catch(r){i(r.message)}})),browser(){if(window._browser)return window._browser;var t=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,e="undefined"!=typeof InstallTrigger,n=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString(),i=!!document.documentMode,r=!i&&!!window.StyleMedia,s=!!window.chrome||!!window.cordova,o=(s||t)&&!!window.CSS;return console.log(394,s),window._browser=t?"Opera":e?"Firefox":n?"Safari":s?"Chrome":i?"IE":r?"Edge":o?"Blink":"Don't know"},isOpera(){return"Opera"==this.browser()},isFirefox(){return"Firefox"==this.browser()},isSafari(){return"Safari"==this.browser()},isChrome(){return"Chrome"==this.browser()},isIE(){return"IE"==this.browser()},isEdge(){return"Edge"==this.browser()},isBlink(){return"Blink"==this.browser()},device:()=>navigator.userAgent.includes("Android")?"android":/iPhone|iPad|iPod/i.test(navigator.userAgent)?"IOS":"desktop",isAndroid(){return"android"==this.device()},isIOS(){return"ios"==this.device()},isDesktop(){return"desktop"==this.device()},escapeRegExp:t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),log:l},c={unique:function(t,e){if(Set&&i.isArray(t))return[...new Set(t)];{let n={};return Loop.each(t,(function(t,r){if(e&&i.isObject(t)){let i=s(t,e);i&&(n[i]=!0)}else n[t]=!0})),Object.keys(n)}}};try{n.UTILS={...r,...i,...a,...o,...c}}catch(u){n.UTILS={};var h=r.each;h(r,(function(t,e){n.UTILS[t]=e})),h(i,(function(t,e){n.UTILS[t]=e})),h(a,(function(t,e){n.UTILS[t]=e})),h(o,(function(t,e){n.UTILS[t]=e}))}t.exports=n.UTILS})),function(t){t.env={destructure:!0};t.env;Promise.prototype.ObjectType="Promise"}(window),window,HTMLCollection.prototype.toArray=function(){let t=[];for(let e=0;e<this.length;e++)t[e]=this[e];return t},NodeList.prototype.toArray=function(){let t=[],e=-1,n=this.length;for(;++e<n;)t[e]=this[e];return t},Object.cache=Object.create(null),Object.caching=t=>{const e=Object.cache;return e[t]||(e[t]={}),{set:(n,i)=>(e[t][n]=i,!0),get:n=>e[t][n]}},String.prototype.toHyphen=function(){let t=Object.cache,e=null,n=this;if(t.toHyphen||(t.toHyphen={}),t[n]&&(e=t[n]),e!=undefined)return e;let i=n.split(""),r="",s=-1;for(;++s<i.length;){let t=i[s];0===s||t.charCodeAt()<91&&(r+="-"),r+=t.toLowerCase()}return t[n]=r,e=r,e},String.prototype.toProper=function(){let t=this,e=Object.caching("toProper").get(t);if(e)return e;{let e=t.substring(0,1),n=t.slice(1),i=`${e.toUpperCase()}${n}`;return Object.caching("toProper").set(t,i),i}},String.prototype.removeSpace=function(){return this.split(" ").join("")},String.prototype.toCamelCase=function(){let t=this.toLowerCase(),e=Object.cache;if(e.toCamel||(e.toCamel={}),e=e.toCamel,e[t])return e[t];{let n=t.split("-");if(1==n.length)return t;let i="",r=-1,s=n.length;for(;++r<s;){let t=n[r];i+=0===r?t:t.substring(0,1).toUpperCase()+t.substring(1)}return e[t]=i,i}},HTMLElement.prototype.querySelectorIncluded=function(t,e,n){let i=this.querySelector(t);return i||(()=>{switch(!0){case!e&&!n:{let e=this.closest(t);e==this&&(i=e)}break;case!!e&&!!n:i=this.getAttribute(e)==n?this:null;break;case!!e&&!n:i=this.getAttribute(e)?this:null}return i})()},HTMLElement.prototype.querySelectorAllIncluded=function(t,e,n){let i;try{i=this.querySelectorAll(t),i&&(i=i.toArray())}catch(r){i=[]}if(t?i=this.querySelectorAll(t).toArray():e&&n?(i=this.querySelectorAll(`[${e}=${n}]`).toArray(),this.dataset[e]==n&&i.push(this)):e&&!n&&(i=this.querySelectorAll(`[${e}]`).toArray(),this.dataset[e]&&i.push(this)),1==(!e&&!n)){let e=this.closest(t);e==this&&i.push(e)}return i},HTMLDocument.prototype.querySelectorIncluded=function(t){return this.querySelector(t)},HTMLDocument.prototype.querySelectorAllIncluded=function(t){return this.querySelectorAll(t)},Array.prototype.toggler=function(t,e){for(let n=0;n<this.length;n++){let i=this[n];(i.dataset.name==t||i.classList.contains(e))&&i.classList.toggle(e)}},HTMLElement.prototype.Ref=function(){let t="_cakes_storage";!this[t]&&(this._cakes_storage={});let e=this[t];return{set(t,n){e[t]=n},get:t=>e[t],getAll:t=>e,remove(t){delete e[t]}}},HTMLElement.prototype.replaceDataSrc=function(){let t=this.querySelectorAllIncluded(null,"data-src",null);for(let e=0;e<t.length;e++){let n=t[e];n.closest&&n.closest(".cake-template")||(n.setAttribute("src",n.dataset.src),n.removeAttribute("data-src"))}},HTMLElement.prototype.unRequired=function(){let t=this.querySelectorAll(".cake-template [required]");for(let e=0;e<t.length;e++){let n=t[e];n&&n.removeAttribute("required")}},Object.keep=function(t,e){let n=t.split("."),i=n.slice(1),r="Array"==e.constructor.name,s=r?[]:{};const o=function(t,e,n){return t[e]||(t[e]=n==undefined?{}:n),t[e]};n[0]&&o(Object.cache,n[0],i.length?{}:e);let l=Object.cache[n[0]];for(let a=0;a<i.length;a++){let t=i[a];i.length-1==a?(l=o(l,t,s),l=r?l.concat(e):Object.assign(l,e)):l=o(l,t,{})}return Object.cache[n[0]]};var r=i("1WNVd");const s=window||{};i("1WNVd"),customElements.define("sub-template",class extends HTMLElement{connectedCallback(){this.replace(this)}replace(t){let e=t.dataset.template,n=document.getElementsByName(e);if(n.length>1)console.error(`template with name ${e} has more than one reference.`);else{if(!n)throw t.remove(),new Error(`${e} is not found!`);if(n[0]){let i=n[0];if("HTMLTemplateElement"!=i.constructor.name)throw new Error(`${e} is not referred to a Template Element!`);{if(i=i.content.cloneNode(!0).firstElementChild,!i)return;let e=t.attributes;for(let t=0;t<e.length;t++){let n=e[t];"data-template"!=n.name&&i.setAttribute(n.name,n.value)}t.replaceWith(i)}}}}constructor(){super()}}),HTMLTemplateElement.prototype.replaceSubTemplate=function(t){let e=t.getElementsByTagName("sub-template");if(e){e=e.toArray();for(let t=0;t<e.length;t++){let n=e[t];customElements.get("sub-template").prototype.replace(n)}}},HTMLTemplateElement.prototype.collectContent=function(){let t=null,e=this.cloneNode(!0),n=document.createDocumentFragment(),i=e.content.querySelector("style");i&&n.appendChild(i);let r=[];for(let s=0;s<e.content.children.length;s++){let t=e.content.children[0];this.replaceSubTemplate(t),r.push(t)}return t={style:n.children[0],others:r},t},HTMLTemplateElement.prototype.parseStyle=function(t){if(!t)return!1;var e=t.textContent.trim();if(!e.length)return;let n={},i=e.split("}");for(let r=0;r<i.length;r++){let t=i[r].split("{"),e=t[0],s=t[1];e&&(n[e.trim()]=(()=>{let t=!1,e="",n=s.split("");for(let i=0;i<n.length;i++){let r=n[i];"\n"==r?t=!0:" "==r?t||(e+=r):(t=!1,e+=r)}return e})())}return n},HTMLTemplateElement.prototype.parseHTML=function(t){if(t){var e=document.createElement("HTML");for(let n=0;n<t.length;n++){let i=t[n];e.append(i)}}return e||!1},HTMLTemplateElement.prototype.getContent=function(t){let e=this.collectContent(),n=e.style,i=e.others,r=this.parseStyle(n),s=this.parseHTML(i);for(let o in r)if(r.hasOwnProperty(o)){let t=s.querySelectorAll(o),e=r[o];for(let n=0;n<t.length;n++)t[n].setAttribute("style",e)}return s=t?s.children.toArray():s.innerHTML,1==s.length?s[0]:s};var a={};r=i("1WNVd");Object.caching("plugins").set("plugin",{}),a=function(t,e){if(r.isObject(t)&&!e){const e=Object.caching("plugins").get("plugin");Object.caching("plugins").set("plugin",Object.assign(e,t))}else if(r.isString(t)&&e!=undefined){const n=Object.caching("plugins").get("plugin");n[t]=e,Object.caching("plugins").set("plugin",n)}else if(r.isString(t)&&e==undefined)return Object.caching("plugins").get("plugin")[t]||{}};var c,h={},u={};r=i("1WNVd");function f(t){this.options=t,this.tag=(this.options&&this.options.tag||"{{ }}").split(" "),this.lefttag=r.escapeRegExp(this.tag[0]),this.righttag=r.escapeRegExp(this.tag[1])}f.prototype._getTag=function(t){try{return t.match(new RegExp("(?<=<)|([^/s]+)(?=>)","g"))[2]}catch(e){throw new Error(`template of ${t} is empty.`)}},f.prototype._bindReplace=function(t,e){for(let n in t)if(t.hasOwnProperty(n)){let i=new RegExp(`${this.lefttag}${n}${this.righttag}`,"g");i&&(e=e.replace(i,`${t[n]}`))}return e},f.prototype.replaceString=function(t,e){return this._bindReplace(t,e)},f.prototype._toElement=function(t,e){let n=document.createElement("template");return n.innerHTML=t,n.content.children[0]},f.prototype.createElement=function(t,e,n){if(!t){let t="string"==typeof e?this._getTag(e):e.tagName;return this._toElement(e,t)}if(t instanceof Array){let i="string"==typeof e,r=i?this._getTag(e):e.tagName;e=i?e:e.outerHTML;let s=[];for(let o=0;o<t.length;o++){let i=t[o],l=this._bindReplace(i,e),a=this._toElement(l,r);n&&(a=a.outerHTML),s.push(a)}return s}if(t instanceof Object){let i="string"==typeof e,r=i?this._getTag(e):e.tagName;e=i?e:e.outerHTML;let s=this._bindReplace(t,e),o=this._toElement(s,r);return n&&(o=o.outerHTML),o}},u=f;var p;const d={};p={set:function(t,e){let n=e.name;return e.path=t,d[n]=e,!0},get:function(t){return d[t]}};var m,g,y,b;r=i("1WNVd");const v=g=function(t,e,n,i,r){return null==n||n==i&&"bind"!=type?[]:(()=>{let n=[],i=t;if(i&&i.length)for(let t=0;t<i.length;t++){let s=i[t];s.bind==e&&n.push({...s,component:r})}return n})()},w=(y=function(t,e,n,i,r,s,o,l){if(null!=i&&(i!=r||"bind"==e))return t=(()=>{let i=t[s]&&t[s][e];if(i&&i.length){let t=[];for(let e=0;e<i.length;e++){let t=i[e];t.bind==n&&(!l||t.sel==l)&&Object.assign(t,o)}return t}return[]})()},b=function(t){const e=[];for(let n=0;n<t.length;n++){const i={},r=t[n];for(let t in r)i[t]=r[t];e.push(i)}return e.reduce(((t,e)=>{let n=e.incrementedSels;return n&&n.length?n.forEach((n=>{let i={...e};i.incrementedSel=n,t.push(i)})):t.push(e),t}),[])});m=async function(t,e,n,i,s){s=s||document;let o=this.storage.get(i,"attr"),l=v(o,t,e,n,i);if(l.length)return l=w(l),Promise.all(l.map((n=>{let i,o=n.hasNegate,l=n.bind,a=n.testVal,c=n.attr,h=n.ops,u=n.sel,f=n.attrkey,p=n.attrvalue,d=n.incrementedSel;n.incrementId;if(l=r.removeWhiteSpace(l),c=r.removeWhiteSpace(c),d=e.incrementedSel||d,i=e.incrementedSel?e[l]:e,t==l){let t=s.querySelectorAll(`[data-attr=${d||u}]:not(.cake-template)`);return Promise.all([...t].map((t=>{let e=!1;h?(e=r.logTest(i,h,a),o&&(e=!e)):e=o?!i:!!i,e?p?t.setAttribute(f,p):t.setAttribute(f):t.removeAttribute(f)})))}e=null})))};var S;r=i("1WNVd");const O=g,E=b;S=async function(t,e,n,i,s){s=s||document;let o=this.storage.get(i,"bind"),l=O(o,t,e,n,i);if(l.length){l=E(l);for(let i=0;i<l.length;i++){let o,a=l[i],c=a.attr,h=a.bind,u=a.sel,f=a.incrementedSel;a.incrementId,a.incrementedSels;f=e.incrementedSel||f,o=e.incrementedSel?e[h]:e;let p=c.toHyphen();if(t==h){let t=s.querySelectorAll(`[data-bind=${f||u}]`);for(let e=0;e<t.length;e++){let i=t[e];"class"==c||"className"==c?i.classList.length?(r.splitBySpace(n,(function(t){i.classList.remove(t)})),r.splitBySpace(o,(function(t){i.classList.add(t)}))):r.splitBySpace(o,(function(t){i.classList.add(t)})):o==undefined&&null==o||(i.setAttribute(p,o),i[c]=o)}}}e=null}};var $;r=i("1WNVd");const _=g,T=b;$=async function(t,e,n,i,s){let o=this.storage.get(i,"class");s=s||document;let l=_(o,t,e,n,i);if(!l.length)return;let a={};l=T(l);for(let c=0;c<l.length;c++){let n,i=l[c],o=i.hasNegate,h=i.bind,u=i.testVal,f=i.className,p=i.ops,d=i.sel,m=i.incrementedSel;i.incrementId;if(h=r.removeWhiteSpace(h),m=e.incrementedSel||m,n=e.incrementedSel?e[h]:e,t==h){a[m||d]||(a[m||d]=s.querySelectorAll(`[data-class=${m||d}]:not(.cake-template)`));let t=a[m||d];for(let e=0;e<t.length;e++){let i=t[e],s=!1;p?(s=r.logTest(n,p,u),o&&(s=!s)):s=o?n==u:!!n,s?r.splitBySpace(f,(function(t){r.toArray(i.classList).includes(t)||setTimeout((()=>{i.classList.add(t)}))})):r.splitBySpace(f,(function(t){r.toArray(i.classList).includes(t)&&setTimeout((()=>{i.classList.remove(t)}))}))}}}e=null};var P;i("1WNVd");var A={};r=i("1WNVd");function j(t){this.el=j.toArray(t)}j.toArray=function(t){let e=[];switch(!0){case t instanceof Array:e=t;break;case t.length&&t.tagName&&"FORM"!=t.tagName&&!(t instanceof Array):for(let n=0;n<t.length;n++)e.push(t[n]);break;case!(t instanceof Array):e=[t]}return e},j.prototype.loop=function(t){try{let e=-1,n=this.el.length;for(;++e<n;){t(e,this.el[e])}return!0}catch(e){return console.error(e),!1}},j.prototype.getElements=function(){return this.el},j.prototype.getElement=function(t=0){return this.el[t]},j.prototype.remove=function(){let t=-1,e=this.el.length,n=document.createDocumentFragment();for(;++t<e;){let e=this.el[t];e&&n.appendChild(e)}return n=null,!0},j.prototype.unRequired=function(){return this.loop((function(t,e){e.unRequired()}))},j.prototype.replaceDataSrc=function(){return this.loop((function(t,e){e.replaceDataSrc()}))},j.cloneNode=function(t){t=t instanceof Array?t:this.toArray(t);let e=[];for(let n=0;n<t.length;n++)e.push(t[n].cloneNode(!0));return new j(e)},j.prototype.dataset=function(t,e){let n=this.el.length,i=-1;for(;++i<n;)if(this.el[i].dataset[t]){if("break"==e(this.el[i]))break}return!0},j.prototype.getContainers=function(){return this.getElementsByDataset("container").container},j.prototype.cloneNode=function(t){return t=this.el,j.cloneNode(t)},j.prototype.getAllElements=function(){let t=this.el.length,e=[];switch(!0){case 1==t:e=this.el[0].getElementsByTagName("*").toArray();break;case t>1:{let n=-1;for(;++n<t;){let t=this.el[n].getElementsByTagName("*");if(t)for(let n=0;n<t.length;n++)e.push(t[n])}}}return e},j.prototype.css=function(t){for(let e in t)if(t.hasOwnProperty(e)){if(r.isObject(t[e])){let n=e,i=t[e];for(let t in i)if(i.hasOwnProperty(t)){let e=i[t];this.el.forEach((i=>{i.querySelectorIncluded(n).style[t]=e}))}}else{let n=t[e];this.el.forEach((t=>{t.style[e]=n}))}}if(1==arguments.length){let t=arguments[0];r.isObject(t)&&this.el.forEach((e=>{for(let n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])}))}},j.prototype.appendTo=function(t,e){1==t.nodeType&&(t=[t]);for(let n=0;n<t.length;n++){let i=t[n];if(!i&&!i.attributes)throw new TypeError(`the ${i} is not an instance of Element`);e&&(i.innerHTML="");for(let t=0;t<this.el.length;t++){let e=this.el[t];i.appendChild(e)}}},j.prototype.getElementsByTagName=function(t){let e=this.el.length,n=[];switch(!0){case 1==e:n=this.el[0].getElementsByTagName(id).toArray();break;case e>1:{let t=-1;for(;++t<e;){let e=this.el[t].getElementsByTagName(selector);if(e)for(let t=0;t<e.length;t++)n.push(e[t])}}}return n},j.prototype.getElementById=function(t){let e=this.el.length,n=[];switch(!0){case 1==e:n=this.el[0].getElementById(id);break;case e>1:{let t=-1;for(;++t<e;){let e=this.el[t].querySelector(selector);e&&n.push(e)}}}return n},j.prototype.querySelectorAll=function(t){let e=this.el.length,n=[];switch(!0){case 1==e:n=this.el[0].querySelectorAll(t);break;case e>1:{let i=-1;for(;++i<e;){let e=this.el[i].querySelectorAll(t);e&&(n=n.concat(e.toArra()))}}break;default:n=[]}return n},j.prototype.querySelector=function(t){let e=this.el.length,n=[];switch(!0){case 1==e:n=this.el[0].querySelector(t);break;case e>1:{let i=-1;for(;++i<e;){let e=this.el[i].querySelector(t);e&&n.push(e)}}}return n},j.prototype.querySelectorIncluded=function(t,e,n){let i=this.el.length,r=[];switch(!0){case 1==i:r=this.el[0].querySelectorIncluded(t,e,n);break;case i>1:{let s=-1;for(;++s<i;){let i=this.el[s].querySelectorIncluded(t,e,n);i&&r.push(i)}}}return r},j.prototype.querySelectorAllIncluded=function(t,e,n){let i=this.el.length,r=[];switch(!0){case 1==i:r=this.el[0].querySelectorAllIncluded(t,e,n);break;case i>1:{let s=-1;for(;++s<i;){let i=this.el[s].querySelectorAllIncluded(t,e,n);i&&(r=r.concat(i.toArra()))}}}return r},j.prototype.contains=function(t){let e=this.el.length,n=!1;switch(1==e){case!0:n=this.el[0].contains(t);break;case!1:{let i=-1;for(;++i<e;){if(this.el[i].contains(t)){n=!0;break}}}}return n},j.prototype.getElementsByDataset=function(){let t,e,n,i,r;for(t=arguments,o={},length=t.length,n=-1,i=-1;++n<this.el.length;)for(r=this.el[n];++i<length;){e=t[i],r.getAttribute(`data-${e}`)?o[e]=[r]:o[e]=[];let n=r.querySelectorAll(`[data-${e}]`);if(n.length)for(let t=0;t<n.length;t++){let i=n[t];i.closest(".cake-template")||o[e].push(i)}}return o},A=j;const k=g,L=y;P=async function(t,e,n,i,r){r=r||document;let s=this.storage.get(i,"forUpdate"),o=k(s,t,e,n,i);if(!o.length)return;let c=new u(a("templating"));const h=[];for(let a=0;a<o.length;a++){o[a].bind,o[a].sel,o[a].iter,o[a].ins,o[a].targets;for(let t in e)if(e.hasOwnProperty(t)){let n=document.querySelectorAll(`[data-for-update-bind=${t}]`);for(let r=0;r<n.length;r++){let s=n[r],o=s.dataset.forUpdateBind;if(s.dataset.forTemplate){let n=s.cloneNode(!0);n.style.removeProperty("display"),n.classList.remove("cake-template");let r=e[o],a=-1;for(l=r.length;++a<l;){let e=r[a],l=a;for(let r=0;r<this.logicalType.length;r++){let a=this.logicalType[r];const c=new A(s).querySelectorAllIncluded(`[data-${a}]`);for(let r=0;r<c.length;r++){const s=c[r];if(s.dataset[a]){let r=s.dataset[a],c=`${r}-${t}-${l}`;n.dataset[a]=c;let u=this.getWatchItemsBySel(i,a,r).bind;if(u.includes(".")){o=u.split(".")[0];for(let t in e){let n=e[t];e[`${o}.${t}`]=n}}r&&h.push({_type:a,...e,incrementedSel:c,sel:r,bind:u,incrementId:l,component:i})}}}let u=c.createElement(e,n,!1);u.classList.remove("cake-template"),u.removeAttribute("data-for-template"),s.insertAdjacentElement("beforebegin",u),"SELECT"==s.parentElement.tagName&&(s.parentElement.selectedIndex=0)}}else s.remove()}}}return e=null,Promise.all(h.map((t=>{const e=t.bind,n=t._type,i=t.component,r=t.incrementedSel,s=t.sel,o=`notify${n.toProper()}`;return L(n,e,t,null,i,{incrementedSel:r},s),this[o](e,t,null,i)}))).then((()=>{}))};var N;i("1WNVd");var R={};const C={};function I(){let t=C[name];if(t&&cb instanceof Function){let e=cb.name;ctx&&(cb=cb.bind(ctx)),cb.binded="external",cb.original=e,cb.listenTo=t.name,t.Subscribe(cb)}}window.ComponentStorage=C,R={subscribe:(t,e)=>new Promise(((t,e)=>{let n=setInterval((()=>{C[name]&&(I(),clearInterval(n),t())}))})),set:(t,e)=>(C[t]=e,!0),get:t=>C[t]};const q=g,M={targets:{},parents:{}};N=async function(t,e,n,i,r){let s=this.storage.get(i),o=new u(a("templating"));return new Promise(((a,c)=>{try{let c=q(this.storage.get(i,"for"),t,e,n,i),h=this.storage.get(i,"switch");if(!c.length)return;let u=e.reduce(((t,e)=>(t.push(e),t)),[]);e=null;for(let t=0;t<c.length;t++){let e=c.length-1==t,n=(c[t].bind,c[t].sel),i=c[t].iter,f=(c[t].ins,c[t].component),d=c[t].cleaned;const m=c[t].children;let g=(r=R.get(f).html).querySelectorIncluded(`[data-for-template=${n}]`);g?M.targets[n]=g:(M.parents[n].appendChild(M.targets[n]),g=r.querySelectorIncluded(`[data-for-template=${n}]`)),u=u.map((t=>{for(let e in t)t.hasOwnProperty(e)&&(t[`${i}.${e}`]=t[e]);return t}));let y=[];(()=>{let t={},e=0;Object.keys(s).forEach(((n,i)=>{if(!["for","evt","animate","switch"].includes(n)){let i=JSON.parse(JSON.stringify(s[n]));i.forEach((r=>{let s=r&&r.bind||undefined;s&&s.match(new RegExp(o.lefttag),"g")&&(u.forEach(((t,n)=>{let l={};l.bind=o.replaceString(t,s),l.sel=`${r.sel}-${e}-${n}`,l.rawsel=r.sel,e+=1,u[n].__sel||(u[n].__sel=[]),u[n].__sel.push(l.sel);for(let e in r)r.hasOwnProperty(e)&&(l[e]||(l[e]=r[e]));i.push(l)})),y.push(n),t[`${f}-${n}`]=(t[`${f}-${n}`]||0)+1)})),s[n]=i}}))})(),(()=>{if(d){let t=g.parentElement;t?M.parents[n]=t:t=M.parents[n],t.children.toArray().forEach((t=>{t.dataset["for"]&&t.dataset["for"]==n&&!t.classList.contains("cake-template")&&t.remove()}))}l=u.length;for(let t=0;t<u.length;t++){let e=u[t],i=g.cloneNode(!0),r=g.cloneNode(!0);(()=>{if(!h||!h.length)return;let t=h.find((t=>t.parentForSel==n));if(!t)return;let s=t.bind,o=t.sel,l=t.cases;const a=e[s],c=r.querySelector(`[data-switch=${o}]`);let u=l.find((t=>{t._id;let e=t.bind;return e.includes("|")?e.split("|").map((t=>t.trim())).some((t=>t==a)):e==a}));if(u){const t=i.querySelector(`[data-case=${o}-${u._id}]`);t.classList.remove("cake-template"),c.parentNode.replaceChild(t,c)}else c.remove()})();let l=o.createElement(e,r,!1);Object.keys(s).forEach((t=>{if(y.includes(t)){let n=s[t];e.__sel&&e.__sel.forEach&&e.__sel.forEach((e=>{let i=n.find((t=>e==t.sel));if(i){let e=i.rawsel;if(e){let n=l.querySelector(`[data-${t}=${e}]`);!n&&l&&l.dataset[t]==e&&(n=l),n&&(n.dataset[t]=i.sel)}}}))}})),l.style.removeProperty("display"),l.classList.remove("cake-template"),l.removeAttribute("data-for-template"),g.insertAdjacentElement("beforebegin",l),m&&m.forEach((t=>{let n=(s&&s["for"]||[]).find((e=>e.sel==t));const i=l.querySelector(`[data-for=${t}]`);if(i){let t=e[n.bind];if(t){t=t.map((t=>{for(let e in t)t.hasOwnProperty(e)&&(t[`${n.iter}.${e}`]=t[e]);return t}));for(let e=0;e<t.length;e++){let n=t[e],r=t.length-1==e,s=i.cloneNode(!0),l=o.createElement(n,s,!1);l.style.removeProperty("display"),l.classList.remove("cake-template"),l.removeAttribute("data-for-template"),i.insertAdjacentElement("beforebegin",l),r&&i.remove()}}const r=i.closest("SELECT");r&&(r.selectedIndex=0)}})),(()=>{let t=this.storage.get(f,"route");if(!t||t.length)for(let e=0;e<t.length;e++){let n=t[e],i=n.bind,r=n.sel;if(!n["for"])continue;let s=l.querySelector(`[data-route=${r}]`);if(!s&&l&&l.dataset.route==r&&(s=l),s){let t=null;if(i.includes("?")){let e=i.split("?");i=e[0],t=e[1]}const e=p.get(i);if(e){let n=e.path;s.href=t?`#!${n}?${t}`:`#!${n}`}}}})(),l.replaceDataSrc()}a()})(),(()=>{if("OPTION"==g.tagName){const t=g.closest("SELECT")||g.closest("DATALIST");t&&(t.selectedIndex=0)}})(),(async()=>{let t=R.get(f);t&&t.findContainer()})(),e&&g.remove()}r.unRequired(),u=null}catch(h){c(h)}}))};var x;r=i("1WNVd");const H=g,U=b;x=async function(t,e,n,i,s){s=s||document;let o=this.storage.get(i,"if"),l=H(o,t,e,n,i);if(!l.length)return;l=U(l);let a={};for(let c=0;c<l.length;c++){let n=l[c],i=n.attr,o=n.bind,h=n.sel,u=n.testval,f=n._true,p=n._false,d=n.ops,m=n.hasNegate,g=n.incrementedSel,y=(n.incrementId,i.toHyphen(),"null"!=f),b="null"!=p;if(t==o){a[h]||(a[h]=s.querySelectorAll(`[data-if=${g||h}]:not(.cake-template)`));let t=a[h];for(let n=0;n<t.length;n++){let s,o=t[n],l=e;if(s=u?r.logTest(u,d,l):m?!l:!!l,s){if(y)if("class"==i){let t=f.split(" ");if(b){p.split(" ").forEach((t=>{o.classList.remove(t)})),t.forEach((t=>{o.classList.add(t)}))}else t.forEach((t=>{o.classList.contains(t)||o.classList.add(t)}))}else l[f]&&o.setAttribute(i,l[f])}else if(b)if("class"==i){let t=p.split(" ");if(y){f.split(" ").forEach((t=>{o.classList.remove(t)})),t.forEach((t=>{o.classList.add(t)}))}else trueClasses.forEach((t=>{o.classList.contains(t)||o.classList.add(t)}))}else o.setAttribute(i,p)}}}e=null};var D;i("1WNVd");const B=g;D=async function(t,e,n,i,r){r=r||document;let s=this.storage.get(i,"model"),o=B(s,t,e,n,i);if(o.length){for(let i=0;i<o.length;i++){let s=o[i],l=s.attr,a=s.bind,c=s.sel,h=l.toHyphen();if(t==a){let t=r.querySelectorAll(`[data-model=${c}]`);for(let i=0;i<t.length;i++){let r=t[i];"className"==l?n?e?r.classList.replace(n,e):r.classList.remove(n):r.classList.add(e):(r.setAttribute(h,e),r[l]=e)}}}e=null}};var W;i("1WNVd");const F=g,V=b;W=async function(t,e,n,i,r){r=r||document;let s=this.storage.get(i,"toggle"),o=F(s,t,e,n);if(o){o=V(o),r=r||document;for(let t=0;t<o.length;t++){let i=o[t];if(!i)continue;let s=i.sel,l=(i.bind,i.value),a=(i.ops,r.querySelector(`[data-toggle=${s}]`));l==n&&a&&a.classList.remove("is-active"),l==e&&a&&(a.classList.contains("is-active")&&a.classList.remove("is-active"),a&&a.classList.add("is-active"))}e=null}};var J;i("1WNVd");const Q=g,z=b;J=async function(t,e,n,i,r){r=r||document;let s=this.storage.get(i,"route"),o=Q(s,t,e,n);if(o){o=z(o),r=r||document;for(let t=0;t<o.length;t++){let e=o[t];if(!e)continue;let n=e.sel,i=(e.bind,e.value,e.ops,r.querySelector(`[data-route=${n}]`));console.log(31,i)}e=null}};var X={};function K(){this.store={}}K.prototype.set=function(t,e,n){let i=this.store;switch(!0){case!i[t]:i[t]={};case!i[t][e]:i[t][e]=[];default:i[t][e].push(n)}return!0},K.prototype.get=function(t,e){let n=this.store;return t&&e?n[t]&&n[t][e]||[]:t&&!e?n[t]||{}:void 0},X=K;var G;r=i("1WNVd");i("1WNVd");const Y=g;function Z(){this.uiid=0,this.notify={},this.sts={},this.storage=new X,this.logicalType=["if","bind","switch","toggle","class","attr"]}G=async function(t,e,n,i,r){r=r||document;let s=this.storage.get(i,"switch"),o=Y(s,t,e,n,i);if(o.length){for(let n=0;n<o.length;n++){let i,s=o[n];if(s.parentFor)return;i=e.incrementedSel?e[l]:e;let l=s.bind,a=s.sel,c=s.cases;const h=i;if(t!=l)return;let u=r.querySelectorAll(`[data-switch=${a}]`);for(let t=0;t<u.length;t++){let e=u[t],n=c.find((t=>{t._id;let e=t.bind;return e.includes("|")?e.split("|").map((t=>t.trim())).some((t=>t==h)):e==h}));if(!n)return;const i=e.querySelector(`[data-case=${a}-${n._id}]`);i.classList.remove("cake-template"),e.style.removeProperty("display"),e.classList.remove("cake-template"),e.innerHTML=i.outerHTML}}e=null}},Z.prototype.notifyFor=N,Z.prototype.notifyForUpdate=P,Z.prototype.notifySwitch=G,Z.prototype.notifyClass=$,Z.prototype.notifyBind=S,Z.prototype.notifyAttr=m,Z.prototype.notifyIf=x,Z.prototype.notifyModel=D,Z.prototype.notifyToggle=W,Z.prototype.notifyRoute=J,Z.prototype.notifier=function(t,e,n,i){if(e==undefined)return Promise.resolve();let r=JSON.parse(JSON.stringify(e));const s={"for":"For",forUpdate:"ForUpdate","switch":"Switch",bind:"Bind","if":"If","class":"Class",attr:"Attr",route:"Route"};let o=Object.caching("AttribProp").get(t)||(()=>{let e={};const n=Object.keys(s),r=this.storage.get(i);if(!r)return[];for(let i=0;i<n.length;i++){const s=n[i],o=r[s];if(o)for(let n=0;n<o.length;n++){o[n].bind==t&&(e[s]=!0)}}return e=Object.keys(e),Object.caching("AttribProp").set(t,e),e})();return new Promise(((e,l)=>{try{let l=o.length,a=0;const c=()=>{if(l>a){let e=o[a];a+=1,this[`notify${s[e]}`](t,r,n,i).then((()=>{c()}))}else e()};c()}catch(a){l(a.message)}}))},Z.prototype.registerNotifier=function(t,e){this.notify[t]||(this.notify[t]=[]),this.notify[t].push(e)},Z.prototype.getEventTarget=function(t){let e=`${t}`,n=Object.caching("getEventTarget").get(e);if(!n){let i=this.storage.get(t);n=i&&i.evt?i.evt:[],Object.caching("getEventTarget").set(e,n)}return n},Z.prototype.getRouterTarget=function(t){let e=`${t}`,n=Object.caching("getRouterTarget").get(e);if(!n){let i=this.storage.get(t);n=i&&i.route?i.route:[],Object.caching("getRouterTarget").set(e,n)}return n},Z.prototype.getWatchItems=function(t){let e=`${t}`,n=Object.caching("getWatchItems").get(e);if(!n){let i=this.storage.get(t),s=r.reduce(i,{wt:[],forWt:[]},(function(t,e,n){let i=t.key,s=t.value;return r.each(s,(function(t,n){let r=t.bind;r&&("for"==i?e.forWt.push(r):e.wt.push(r))})),e})),o=r.unique(s.wt);n=r.unique(s.forWt).concat(o),Object.caching("getWatchItems").set(e,n)}return n},Z.prototype.getWatchItemsByType=function(t,e){let n=`${t}-${e}`,i=Object.caching("getWatchItemsByType").get(n);if(!i){let r=this.storage.get(t)[e]||[],s=new Set;"animate"!=e&&"toggle"!=e||(s=[]);for(let t=0;t<r.length;t++){let n=r[t],i=n.bind;"animate"==e||"toggle"==e?s.push(n):i&&s.add(i)}i=[...s],Object.caching("getWatchItemsByType").set(n,i)}return i},Z.prototype.getWatchItemsBySel=function(t,e,n){let i=`${t}-${e}-${n}`,r=Object.caching("watchItemsBySel").get(i);if(!r){let s=this.storage.get(t,e).find((t=>t.sel==n));r=s||!1,Object.caching("watchItemsBySel").set(i,r)}return r},Z.prototype.getConfig=function(t){return this.storage.get(t)},Z.prototype._activateReactive=t=>{},Z.prototype._register=function(t,e,n){return this.storage.set(t,e,n)},Z.prototype._static=function(t){return function(e,n){let i=[];for(let r=0;r<e.length;r++){let s=e[r];switch(n){case!1:i.push(s);break;case!0:{let e=s.closest("[data-component]");if(e=e&&e.dataset.component,e==t==!0)i.push(s)}break;default:continue}}return i}},Z.prototype._loopElements=function(t,e,n,i,r){if(!e.length)return!1;if(!(e=this._static(n)(e,i)).length)return!1;for(let s=0;s<e.length;s++){let n,i,o=e[s],l=`ckm${this.uiid}`;if(t.includes(",")){let e=t.split(",");n={},i={};for(let t=0;t<e.length;t++){let r=e[t];n[r]=o.dataset[r],i[r]=n.split(",")}}else n=o.dataset[t],i=n.split(",");r(o,l,n,i,s)}return!0},Z.prototype._compileEvents=function(t,e,n){return new Promise((i=>{this._loopElements("event",t,e,n,function(t,n,i,r,s){let o=r;for(let l=0;l<o.length;l++){let i=o[l].split(":"),r=i[0],s=i[1];r=r.trim(),s=s?s.trim():s,this._register(e,"evt",{event:r,sel:n,bind:s,cb:s}),t.dataset.event=n,this.uiid++}}.bind(this)),i()}))},Z.prototype._compileToggle=function(t,e,n){return new Promise((i=>{let r={};this._loopElements("toggle",t,e,n,function(t,n,i,s,o){let l=i;r[l]&&(n=r[l]),this._register(e,"toggle",{sel:n,name:"ns-"+l}),t.dataset.toggle=n,this.uiid++,r[l]=n}.bind(this)),r={},i()}))},Z.prototype._compileFor=function(t,e,n,i){return new Promise((r=>{let s=i;if(!t.length)return void r();let o=this._static(e)(t,n);if(!o.length)return void r();let l={};for(let t=0;t<o.length;t++){let e=`ckf${this.uiid}`;l[e]={};let n=o[t],i=n.dataset["for"],r=n.dataset.forCleaned==undefined||"true"==n.dataset.forCleaned,a=i.split(" "),c=a[0],h=a[1],u=a[2];if(n.style.display="none",n.classList.add("cake-template"),n.dataset["for"]=e,n.dataset.forTemplate=e,l[e]=Object.assign(l[e],{bind:u,sel:e,iter:c,ins:h,cleaned:r}),++this.uiid,0!=t){let t=n.parentElement&&n.parentElement.closest("[data-for]");if(!t)continue;let i=!!t.dataset["for"];if(s.contains(t)&&i){let n=l[t.dataset["for"]];n&&!n.children?n.children=[e]:n&&n.children.push(e)}}}for(let t in l)l.hasOwnProperty(t)&&this._register(e,"for",l[t]);r()}))},Z.prototype._compileForUpdate=function(t,e,n){return new Promise((i=>{this._loopElements("forUpdate",t,e,n,function(t,n,i,r,s){t.style.display="none",t.classList.add("cake-template"),t.dataset.forUpdate=n,t.dataset["for"]||(t.dataset.forTemplate=n);let o=i.split(" "),l=o[0],a=o[1],c=o[2];this._register(e,"forUpdate",{bind:c,sel:n,iter:l,ins:a}),this.uiid++}.bind(this)),i()}))},Z.prototype._compileSwitch=function(t,e,n){return new Promise((i=>{this._loopElements("switch",t,e,n,function(t,n,i,r,s){let o=t.closest("[data-for]");o||(t.style.display="none",t.classList.add("cake-template"),console.log("compiling switch"));let l=t.dataset["switch"],a="def";if(l.includes(".")){const e=t.dataset["switch"].split(".");l=e[0],a=e[1]}t.dataset["switch"]=n;let c=t.querySelectorAll("[data-case]"),h=[];for(let e=0;e<c.length;e++){let t=c[e],i=t.closest(`[data-switch=${n}]`);if(t.classList.add("cake-template"),i){let e=t.dataset["case"],i=`cksc${this.uiid}`;t.dataset["case"]=`${n}-${i}`,h.push({_id:i,bind:e}),this.uiid++}}let u={bind:l,sel:n,map:a,cases:h};o&&(u.parentFor=!!o,u.parentForSel=o.dataset["for"]),this._register(e,"switch",u),this.uiid++}.bind(this)),i()}))},Z.prototype._compileBind=function(t,e,n){return new Promise((i=>{this._loopElements("bind",t,e,n,function(t,n,i,r,s){for(let a=0;a<r.length;a++){let i=r[a].split(" ").join("");if(i.includes(":")){const t=i.split(":");var o=t[0],l=t[1]}else l=i,o=t.value==undefined?"textContent":"value";this._register(e,"bind",{attr:o,bind:l,sel:n})}this.uiid++,t.dataset.bind=n}.bind(this)),i()}))},Z.prototype._compileAnimate=function(t,e,n){return new Promise((i=>{this._loopElements("animate",t,e,n,function(t,n,i,r,s){let o={};for(let e=0;e<r.length;e++){let t=r[e].split(":"),n=t[0],i=t[1];if("ns"==n){o.ns=i;break}o[n]={keyframes:i.split("-")}}o.selector={attr:"data-animate",val:n},this._register(e,"animate",o),this.uiid++,t.dataset.animate=n}.bind(this)),i()}))},Z.prototype._compileIf=function(t,e,n){return new Promise((i=>{const r=new RegExp("<|>|===|==|!==|!=");this._loopElements("if,ifBind",t,e,n,function(t,n,i,s,o){i["if"];let l=i.ifBind,a=s["if"];for(let c=0;c<a.length;c++){let t=s[c],i=t.substring(0,t.indexOf("=")),o=t.substring(t.indexOf("=")+1,t.length);o=o.split(new RegExp("[()]")).join("");let a,h,u,f=o.split("?"),p=f[0],d=f[1],m="!"==p[0];if(hasRegularLog=p.match(r),hasRegularLog){let t=p.split(r);a=t[0].trim(),h=t[1].trim(),u=hasRegularLog[0]}else a=p;m&&(a=a.slice(1));let g=d.split(":"),y=g[0],b=g[1];this._register(e,"if",{hasNegate:m,attr:i,ops:u,bind:a,testval:h||null,_true:y,_false:b,sel:n,ifBind:l})}this.uiid++,t.dataset["if"]=n}.bind(this)),i()}))},Z.prototype._compileClass=function(t,e,n){return new Promise((i=>{let r=new RegExp("<|>|===|==|!==|!=");this._loopElements("class",t,e,n,function(t,n,i,s,o){let l,a,c,h,u,f,p=s;for(let d=0;d<p.length;d++){let t=p[d].split("&&"),i=t[0],s=t[1];if(i=i.trim(),s=s.trim(),l=i.match(r),i.substring(0,2).includes("!")?(a=!0,f="!!"==i.substring(0,2)?2:"!"==i.substring(0,1)?1:0):(a=!1,f=0),l){let t=i.split(r);c=t[0].trim(),u=t[1].trim(),h=l[0].trim()}else!a&&(c=i),a&&(c=i.substring(f),u=2==f);this._register(e,"class",{hasNegate:a,bind:c,testVal:u,className:s,ops:h,sel:n})}this.uiid++,t.dataset["class"]=n}.bind(this)),i()}))},Z.prototype._compileAttr=function(t,e,n){return new Promise((i=>{let r=new RegExp("<|>|===|==|!==|!=");this._loopElements("attr",t,e,n,function(t,n,i,s,o){let l,a,c,h,u=i.split("&&"),f=u[0],p=u[1];p=p.trim();let d=p.split("="),m=d[0],g=d[1];if(f=f.trim(),l=f.match(r),a="!"==f[0],l){let t=f.split(r);bind=t[0],h=t[1],c=l[0]}else bind=f;a&&a&&(bind=bind.slice(1)),this._register(e,"attr",{hasNegate:a,bind,testVal:h,attrkey:m,attrvalue:g,ops:c,sel:n}),this.uiid++,t.dataset.attr=n}.bind(this)),i()}))},Z.prototype._compileModel=function(t,e,n){return new Promise((i=>{this._loopElements("model",t,e,n,function(t,n,i,r,s){let o=t.tagName;for(let h=0;h<r.length;h++){let t=r[h].split(" ").join("");if(t.includes(":"))var l=t.split(":"),a=l[0],c=l[1];else c=t,a="value";this._register(e,"model",{attr:a,bind:c,sel:n,nodeType:o})}this.uiid++,t.dataset.model=n}.bind(this)),i()}))},Z.prototype._compileRoute=function(t,e,n){return new Promise((i=>{this._loopElements("route",t,e,n,function(t,n,i,r,s){for(let o=0;o<r.length;o++){let i=r[o].split(" ").join(""),s=t.closest("[data-for]");this._register(e,"route",{bind:i,sel:n,"for":!!s})}this.uiid++,t.dataset.route=n}.bind(this)),i()}))},Z.prototype.inject=function(t,e,n=!1){return new Promise((e=>{e(t.getElementsByDataset("bind","for","for-update","switch","toggle","event","animate","if","class","attr","route"))})).then((i=>{let r=[],s={bind:this._compileBind,"switch":this._compileSwitch,toggle:this._compileToggle,"if":this._compileIf,"class":this._compileClass,attr:this._compileAttr,"for":this._compileFor,"for-update":this._compileForUpdate,event:this._compileEvents,animate:this._compileAnimate,route:this._compileRoute};for(let o in i)i.hasOwnProperty(o)&&i[o].length&&r.push(s[o].apply(this,[i[o],e,n,t]));return Promise.all(r.length?r:[r])})).then((()=>Promise.resolve()))},h=Z;const tt=i("iuSND")();var et,nt={};et=class{animate(t){this.config=this.parse(this.cf);let e=this.config[0].element,n=this.config[0][t];return n?new Promise(((t,i)=>{e.velocity(n.velocity,{complete:function(){t()}})})):Promise.resolve()}parse(t){let e=[],n=t.length,i=-1;for(;++i<n;){let n,r=t[i],s=r.selector;switch(!0){case!(!s.val||!s.attr):n=this.html.querySelectorIncluded(`[${s.attr}=${s.val}]`,s.attr,s.val);break;case!(!s.val||s.attr):{let t=s.val.match(new RegExp("^[.]"))?"class":s.val.match(new RegExp("^[#]"))?"id":null,e=t?s.val.slice(1):null;n=this.html.querySelectorIncluded(s.val,t,e)}}r.element=n,e.push(r)}return e}dic(t){return{slideOutUp:[{transform:"translate3d(0,0,0)",visibility:"visible",opacity:"1",easing:"ease-out"},{transform:"translate3d(0,100%,0)",visibility:"hidden",opacity:"0",easing:"ease-out"}],slideOutRight:[{transform:"translate3d(0,0,0)",visibility:"visible",opacity:"1"},{transform:"translate3d(100%,0,0)",visibility:"hidden",opacity:"0"}],slideOutLeft:[{transform:"translate3d(0,0,0)",visibility:"visible",opacity:"1"},{transform:"translate3d(-100%,0,0)",visibility:"hidden",opacity:"0"}],slideOutDown:[{transform:"translate3d(0,0,0)",visibility:"visible",opacity:"1",easing:"ease-out"},{transform:"translate3d(0,-100%,0)",visibility:"hidden",opacity:"0",easing:"ease-out"}],slideInUp:[{transform:"translate3d(0,100%,0)",visibility:"hidden",opacity:"0",easing:"ease-out"},{transform:"translate3d(0,0,0)",visibility:"visible",opacity:"1",easing:"ease"}],slideInRight:[{transform:"translate3d(100%,0,0)",visibility:"hidden",opacity:"0"},{transform:"translate3d(0,0,0)",visibility:"visible",opacity:"1"}],slideInLeft:[{transform:"translate3d(-100%,0,0)",visibility:"hidden",opacity:"0",easing:"ease-out"},{transform:"translate3d(0,0,0)",visibility:"visible",opacity:"1"}],slideInDown:[{transform:"translate3d(0,-100%,0)",visibility:"hidden",opacity:"0",easing:"ease-out"},{transform:"translate3d(0,0,0)",visibility:"visible",opacity:"1",easing:"ease-out"}],disappear:[{opacity:"1"},{opacity:"0"}],appear:[{opacity:"0"},{opacity:"1"}],flipInX:[,{offset:0,backfaceVisibility:"visible"},{transform:"perspective(400px) rotate3d(1,0,0,90deg)",opacity:"0",offset:0},{transform:"perspective(400px) rotate3d(1,0,0,-20deg)",offset:.4,easing:"ease-in"},{offset:.6,opacity:"1",transform:"perspective(400px) rotate3d(1,0,0,10deg)"},{transform:"perspective(400px) rotate3d(1,0,0,-5deg)",offset:.8},{offset:1,backfaceVisibility:"visible",transform:"perspective(400px) rotate3d(1,0,0,0)"}]}[t.trim()]||[]}constructor(t=[],e){this.html=e||document,this.cf=t,this.duration=300}};r=i("1WNVd");function it(t,e,n){this.name=t,this.template=e,this.options=n,this.handlers=n.handlers,this.subscribe=n.subscribe,this.renderqueue=n.renderqueue,this.data={},this.root=n.root?`${n.root}:not(.cake-template)`:n.root,this.items=!1,this.type=n.type||"view",this.toggle=n.toggle,this.targets={},this.animateOptions=n.animate,this.role=n.role,this.isReady=!1,this.scope=n.scope,this.animatecss=this.options.animatecss,this.formSelector=n.form,this.await={},this.state=n.state,this.originalState={},this.utils=r,this.renderQueing=[],this.handlers||console.error(`${this.name} has no handlers`),this.subscribe||console.error(`${this.name} has no subscribe`),("app"==t||"app"==n.role)&&(()=>{this.staticComponent=n["static"]||[]})(),this.container={},this.compile=new Promise((t=>{this._bindHandlers(),t()})).then((()=>this._bindSubscribe())).then((()=>this.cloneState())).then((()=>{if(!0==("view"==this.type&&!!this.template))return this.createElementAsync();this.isStatic=!1}))}it.prototype.isStatic=!1,it.prototype.hasEvent=!1,it.prototype.isConnected=!1,it.prototype.destroyed=!1,it.prototype.isCreated=!1,it.prototype.cloneState=function(){if(this.state){for(let t in this.state)this.state.hasOwnProperty(t)&&(this.originalState[t]=this.state[t]);this.$state=(()=>this.state)()}},it.prototype.clearState=function(){this.state&&(this.state=JSON.parse(JSON.stringify(this.originalState)),this.$state=(()=>this.state)())},it.prototype.Subscribe=function(t){this.$observer.registerSubscribe({[t.listenTo]:{[t.original]:[t]}})},it.prototype.Node=function(t){return new A(t)},it.prototype._bindHandlers=function(){for(let t in this.handlers)if(this.handlers.hasOwnProperty(t)){let e=this.handlers[t],n=e.name;e=e.bind(this),e.original=n,e.binded=this.name,this.handlers[n]=e,this.initAwaitHandlers(t)}this.await.destroy||(this.await.destroy=Promise.resolve()),this.await.animateRemove||(this.await.animateRemove=Promise.resolve())},it.prototype.initAwaitHandlers=function(t){this.await[t]=Promise.resolve()},it.prototype._bindSubscribe=function(){let t={};for(let n in this.subscribe)if(this.subscribe.hasOwnProperty(n)){if(subscribe=this.subscribe[n],subscribe.components&&!subscribe.handler)throw new Error(`there is no handler in format many of subscribe in event ${n}`);if(!subscribe.components&&subscribe.handler)throw new Error(`there is no components in format many of subscribe in event ${n}`);if(!!subscribe.components&&!!subscribe.handler){let e=n,i=subscribe.components,r=subscribe.handler;r=r.bind(this),r.binded=this.name,r.original=e;for(let n=0;n<i.length;n++){let s=i[n];t[s]||(t[s]={}),t[s][e]||(t[s][e]={}),r.listenTo=s,t[s][e]=r}}else{t[n]||(t[n]={});let i=subscribe;for(let r in i)if(i.hasOwnProperty(r)){let s=i[r],o=s.name;try{s=s.bind(this)}catch(e){}s.original=o,s.binded=this.name,s.listenTo=n,t[n][o]||(t[n][o]={}),t[n][o]=s}}}this.subscribe=t},it.prototype.getHTML=function(){return this.html},it.prototype.doFor=function(t,e){if(null!=e)return this.$attrib.notifyFor(t,e,null,this.name,this.getHTML())},it.prototype.doToggle=function(t,e){this.$attrib.notifyToggle(t,e,null,this.name,this.html)},it.prototype.doSwitch=function(t,e){this.$attrib.notifySwitch(t,e,null,this.name,this.html)},it.prototype.doIf=function(t,e){this.$attrib.notifyIf(t,e,null,this.name,this.html)},it.prototype.$animate=function(t){let e=this.$attrib.getWatchItemsByType(this.name,"animate"),n=this.animateOptions,i=[];return(()=>{if((e.length||e instanceof Array)&&n)for(let t=0;t<e.length;t++){let r=e[t],s=r.ns;r.selector;if(r.ns){if(n[s]){n[s];Object.assign(r,n[s]),delete n[s]}}else i.push(e)}})(),!!e.length&&((()=>{let t={},i={};for(let r in n)n.hasOwnProperty(r)&&(i.val=r,t.selector=i,Object.assign(t,n[r]),e.push(t),t={},i={})})(),new et(e,this.html).animate(t))},it.prototype.$templating=function(t,e,n){let i=e||this.template;return new u(a("templating")).createElement(t,i,n)},it.prototype.createElement=function(){if(!("#"==this.template.substring(0,1)))return;let t=this.template.substr(1),e=document.getElementById(t),n=this.isTemplate=e&&e.toString().includes("Template");if(!e)throw new Error(`the template for ${this.name} is not found with.`);return new Promise((t=>{switch(n){case!0:{let n=e.getContent(!0);if(!n)throw new Error(`it might be theres no template in component - ${this.name}`);n.cake_component=this.name,this.html=this.Node(n),this._parseHTML(this.isStatic).then((()=>{t()}))}break;case null:t();break;default:{let n=e;if(!n)throw new Error(`it might be theres no template in component - ${this.name}`);n.cake_component=this.name,this.html=this.Node(n),this.isStatic=!0,this._parseHTML(this.isStatic).then((()=>{t()}))}}}))},it.prototype.createElementAsync=function(){return new Promise((t=>{this.createElement().then((()=>{t()}))})).then((()=>{this.isReady=!0}))},it.prototype._isParsed=!1,it.prototype._parseHTML=function(t=!1){return this.$attrib.inject(this.html,this.name,t).then((()=>{this.original=this.html.cloneNode(),this._isParsed=!0}))},it.prototype.renderQue=function(t={}){if(t.id==undefined&&null!=t.id)throw new Error("renderQue method requires an id.");let e=t.id;return e&&(t.hasqued=!0,this.renderQueing.push({date:(new Date).toString(),id:e,options:t})),this.render(t)},it.prototype.initialize=function(){if("model"==this.type)return this.fire.initialize();throw new Error("initialize handler is for type model.")},it.prototype.render=function(t={}){let e=this.options.multiple;if(t.hasqued||this.isConnected&&!e&&console.error(`${this.name} is already rendered and connected to the DOM`),t.revokeque&&(this.await.destroy=Promise.resolve()),this.isConnected&&!e)return Promise.resolve();let n=t.root||this.root,i=t.cleaned,r=t.emit||{},s=t.data||{},o=t.css;if(this.options.onRender&&this.options.onRender.constructor&&["Function","AsyncFunction"].includes(this.options.onRender.constructor.name)){this.onRenderConfig=this.options.onRender.bind(this)(this);let t=this.onRenderConfig.data;t&&(s=Object.assign(s,t))}if("string"==typeof n){let t=`${n}:not(.cake-template)`;n=[document.querySelector(t)]}this.state;let l={emit:r};return this.isConnected=!0,new Promise(((t,e)=>{this.isReady?t():this.createElement().then((()=>!this.template&&this.fire.isConnected&&this.fire.isConnected(l,!0))).then((()=>{this.isReady=!0,t()}))})).then((()=>this.await.destroy.then((()=>this.await.animateRemove)).then((()=>new Promise(((t,e)=>{let n=this.$attrib.getWatchItems(this.name);Promise.all(n.map((t=>{if(s[t])return this.$attrib.notifier(t,s[t],null,this.name)}))).then((()=>{o&&this.html.css(o),t(this.html)}))})).then((t=>(l={element:t,emit:r},new Promise(((e,n)=>{try{this.fire.beforeConnected&&this.fire.beforeConnected(l,!0),e(t)}catch(i){n(i)}}))))).then((t=>{if(!this.isStatic){return(s?(()=>new Promise((e=>{let n=t.getElement();n=this.$templating(s,n),this.html=t=this.Node(n),this.html.replaceDataSrc(),s=null,e()})))():Promise.resolve()).then((()=>this._animatecss("render"))).then((()=>(t.appendTo(n,i),!0)))}})).then((()=>this.findRouterLink())).then((()=>{})).then((()=>this.findContainer())).then((()=>{try{return this.fire.isConnected&&this.fire.isConnected(l,!0)}catch(t){console.log(440,t)}})).then((()=>this.findTarget())).then((()=>this.addEvent())).then((()=>this.$animate("render"))).then((()=>(e&&this._smoothReset(),new Promise(((t,e)=>{setTimeout((()=>{this._watchReactive(),t()}),100)})))))))))},it.prototype._animatecss=function(t){try{if(!this.animatecss)return Promise.resolve();let e=this.animatecss[t];return e?Promise.all(Object.keys(e).map((t=>{let n="animate__animated,";n+=e[t];let i=this.html.querySelectorAllIncluded(null,"data-animatecss",t);return i?Promise.all(i.map((t=>{let e=t.classList;for(let n=0;n<e;n++){let i=e[n];i.includes("animate_")&&t.classList.remove(i)}return n.split(",").forEach((e=>{t.classList.add(e.trim())})),t.style.setProperty("--animate-duration","0.3s"),new Promise(((t,e)=>{setTimeout((()=>{t()}),500)}))}))):Promise.resolve()}))):Promise.resolve()}catch(e){return console.error(e),Promise.resolve()}},it.prototype.renderAsync=function(t){this.render(t).then((()=>{this.$persist.append(this.name)}))},it.prototype._smoothReset=function(){this.html=this.original.cloneNode()},it.prototype._hardReset=function(t){return this.$persist.remove(t),this.html=this.original.cloneNode(),!0},it.prototype.reset=function(t={}){if(t.id==undefined&&null!=t.id)throw new Error("renderQue method requires an id.");let e,n=t.id;n&&(e=this.renderQueing.filter((t=>t.id==n)),this.renderQueing=JSON.parse(JSON.stringify(this.renderQueing)).filter((t=>t.id!=n)));let i=this.$animate("remove");return i instanceof Promise?this.await.animateRemove=new Promise((t=>{i.then((()=>this.html.remove())).then((()=>{this.container={}})).then((()=>this.clearState())).then((()=>this._hardReset(this.name))).then((()=>{t()})).then((()=>{if(this.isConnected=!1,this.renderQueing&&this.renderQueing.length&&e){let t=e.options;return t||(t={}),t.revokeque=!0,this.render(t)}}))})):new Promise((t=>{this.html.remove(this.name),this.clearState(),this.container={},this._hardReset(this.name),this.isConnected=!1,t()})).then((()=>{if(this.renderQueing&&this.renderQueing.length&&e){let t=e.options;return t||(t={}),t.revokeque=!0,this.render(t)}}))},it.prototype.addEvent=function(t,e){let n=this.name;function i(t,e,n,i){return function(r){n||r.preventDefault(),i&&r.stopPropagation(),Cake.Observer.notify(e,t,r)}}if(this.targets)for(let r in this.targets)if(this.targets.hasOwnProperty(r)){let t=this.targets[r];for(let e of t){e.sel;let t=e.el,s=e.cb,o=r,l=r.substring(0,2),a=l.includes("~"),c=l.includes("^");a||c?(o=r.slice(1),s=s||o):s||(s=r),t.Ref().get("__cake__events")||t.Ref().set("__cake__events",{});let h=t.Ref().get("__cake__events");h[s]||(t.addEventListener(o,i(s,n,a,c),!0),h[s]=!0,t.Ref().set("__cake__events",h))}}},it.prototype.findTarget=function(){let t=this.$attrib.getEventTarget(this.name);return new Promise((e=>{for(let n of t){let t=this.html.querySelectorAllIncluded(`[data-event=${n.sel}]`);for(let e=0;e<t.length;e++)this.targets[n.event]||(this.targets[n.event]=[]),this.targets[n.event].push({el:t[e],...n})}e()}))},it.prototype.findRouterLink=function(){let t=this.$attrib.getRouterTarget(this.name);if(t&&t.length)for(let e=0;e<t.length;e++){let n=t[e];if(0!=n["for"]);else{let t=n.sel,e=n.bind,i=p.get(e);if(i){let e=this.html.querySelector(`[data-route=${t}]`);e&&(e.href=`#!${i.path}`)}}}},it.prototype.toggler=function(t){let e=this.$attrib.getWatchItemsByType(this.name,"toggle"),n=class{check(t){let n=this.toggle[t];if(n){if(e.length){let t=n.ns,i=e.find((e=>e.name==`ns-${t}`));i&&(n.sel=`[data-toggle=${i.sel}]`)}return n}console.error(`${t} is not found in toggle! choose from ${JSON.stringify(Object.keys(this.toggle))}`)}_toggle(){let t=this.check(this.bind);if(!t)return;let e,n,i=t.basis||"data-name",r=t.cls||"is-active",s=t.mode||"radio",o=t.sel,l=t.persist==undefined||t.persist,a=this.html.querySelectorAll(o);if(a.length){if(1==a.length){let t="boolean"==typeof this.bases,e=!!this.bases,n=a[0];if(l){const i=function(t,e,n){n?t.classList.contains(e)&&t.classList.remove(e):t.classList.contains(e)||t.classList.add(e)};t?(e?(this.cache.createOrUpdate(this.bind,!0),i(n,r,!0)):(this.cache.createOrUpdate(this.bind,!1),i(n,r,!1)),n.classList.toggle(r)):(this.cache.createOrUpdate(this.bind,!n.classList.contains(r)),n.classList.toggle(r))}}else for(let t=0;t<a.length;t++){let o=a[t],c=o.classList.contains(r),h=o.getAttribute(i);h==this.bases?("switch"==s?o.classList.toggle(r):c||o.classList.add(r),l&&this.cache.createOrUpdate(this.bind,h),n=h):c&&(o.classList.remove(r),e=o.getAttribute(i))}return{prev:e,next:n}}}_recall(){let t=this.check(this.bind);if(!t)return;let e=t.basis||"data-name",n=t.cls||"is-active",i=t.sel;return this.cache.get(this.bind).then((t=>{if(!t)return t;let r=t,s=this.html.querySelectorAll(i);if(s.length){if(1==s.length){let t=s[0];r&&t.classList.add(n)}else for(let t=0;t<s.length;t++){let i=s[t],o=i.classList.contains(n);i.getAttribute(e)==r&&(o||i.classList.add(n))}return r}}))}_get(){if(this.check(this.bind))return this.cache.get(this.bind).then((t=>t||t))}constructor(t,e,n,i){this.toggle=i.toggle,this.bind=t,this.bases=e,this.cache=i.$cache,this.html=n}},i=(t,e)=>new n(t,e,this.html,this)._toggle();return i.recall=t=>new n(t,!1,this.html,this)._recall(),i.get=t=>new n(t,!1,this.html,this)._get(),i},it.prototype.findContainer=function(){return new Promise((t=>{try{let e=this.html.getContainers();for(let t=0;t<e.length;t++){let n=e[t],i=n.dataset.container;i&&(this.container[i]?r.isArray(this.container[i])?this.container[i].push(n):this.container[i]=[this.container[i],n]:this.container[i]=n)}t()}catch(e){console.log(895,e)}}))},it.prototype._validator=function(t,e){if(this.options.validate){this.validate=this.options.validate;this.validate[t]}},it.prototype._watchReactive=function(){if("form"==this.role&&!0===this.options.watch){const t=this.options.validate,e=this.$form();if(!e)return;if(e&&e._reactive)return;this.state&&!this.state.formData&&(this.state.formData={});const n=this,i=e=>{const i=e.target,r=i.name||i.id,s=i.value;let o=t[r];if(o){if(o=o.bind(n),o){o(e)&&(this.state&&(this.state.formData[r]=s),this.$scope.set(r,s))}}else this.state&&(this.state.formData[r]=s),this.$scope.set(r,s)};e.addEventListener("change",(t=>{"INPUT"!=t.target.tagName&&"TEXTAREA"!=t.target.tagName&&i(t)})),e.addEventListener("input",(t=>{"INPUT"!=t.target.tagName&&"TEXTAREA"!=t.target.tagName||i(t)})),e._reactive=!0}},it.prototype.observer=function(t){this.observer=new Observer(this,t,function(t){return this.handler[t]}.bind(this))},it.prototype.variable=function(t){Object.keys(t);let e={},n=[];function i(t,n,i){n||(e[t]=`value is not '${i}'`)}for(let r in t)if(t.hasOwnProperty(r)){let e,s=t[r],o=s.type,l=s.value;e=["string","number"].includes(o)?typeof l==o:l instanceof Array?"array"==o:"object"==o,n.push(l),i(r,e,o)}if(Object.keys(e).length)throw new Error(JSON.stringify(e));return n},nt=it;var rt;r=i("1WNVd");const st=new(i("jU2nf")())({child:"object",storage:"local",name:"_cake_router_cf"});rt=function(t,e){const n=[];return class{getComponent(t,e){if(this.componentConf&&this.componentConf[t]){let n=this.componentConf[t].rerender;n&&(t=n.includes(e)?t:null)}return t?this.components.get(t):null}verifyAuth(e){return t.$loaded(this.verifyComponent).then((t=>t.fire[this.verifyComponentHandler](e).then((t=>(this.isauth=t&&1==t.status,t)))))}async authenticate(t,e){let n=r.isArray(e)&&e.length&&e||null;if(1!=e&&!n)return;const i=this.unauthRoute==t;if(this.unauthRoute)try{const t=st.get("role",!0)||{},e=(t.role,t.token);if(n&&!n.includes(t.role)){let t=this.goTo(this.unauthRoute,{replace:!0});return void(t&&t.isredirected||location.reload())}if(0==(await this.verifyAuth(e)).status&&(this.logout(),location.reload()),t){if(i){const e=t.role,n=(t.data,this.authRedirectRoute[e]);if(n){const t=n.name;this.goTo(t)}}}else i||this.logout()}catch(s){alert(JSON.stringify(s.message||s)),i||this.logout()}}login(t,e){let n=t.role,i=t.token,r=t.data,s=(st.createOrUpdate("role",{role:n,token:i,data:r}),e&&e.path),o=e&&e.config;if(!n)throw new Error("role is not provided in router.login");if(!i)throw new Error("token is not provided in router.login");if(!r)throw new Error("data is not provided in router.login");if(s);else{if(!this.authValidRoute||!this.authValidRoute[n])throw new Error("provide route when login is successful");s=this.authValidRoute[n]}this.goTo(s,o)}auth(){const t=st.get("role",!0);return t||{}}logout(t){try{st.remove("role")}catch(e){}t||setTimeout((()=>{this.goTo(this.unauthRoute,{replace:!0})}),200)}goTo(t,e={}){try{let i=this.route,s=e.params||{},o=e.replace,l=null;const a=Object.entries(i);if(!t){const e=st.get("role",!0).role,n=this.authValidRoute[e];n&&(t=n.name||n)}if(!t)throw new Error("provide routename");for(let e=0;e<a.length;e++){const n=a[e][0],i=a[e][1];if(i.name==t){l=n;break}}if(!l){if(t&&t.includes("://"))return location.href=t,{isredirected:!0};throw new Error(`${t} is not found in routes`)}if("/"==l)return void(o?location.replace(`${location.origin}${location.pathname}`):window.location=`${location.origin}${location.pathname}`);let c;if(l=l.slice(1),s.toString().includes("Object")){let t="";for(let e in s)t+=`${e}=${s[e]}&`;s=t,c=`!/${l}?${s}`}else c=`!/${l}`;if("/"==l&&(c=""),o){let t=`${location.origin}${location.pathname}#${c}`;console.log(276,r.isChrome()&&!r.isFirefox(),t),r.isChrome()&&!r.isFirefox()&&history.replaceState(undefined,undefined,t),location.replace(t)}else{var n=document.createElement("a");n.href=`#${c}`,r.isChrome()&&!r.isFirefox()&&history.pushState(undefined,undefined,n.href),n.click()}}catch(i){console.log(i)}}goBack(){return new Promise(((t,e)=>{window.history.back(),t()}))}persist(){if(!document.hasRouterPersist){let t="DOMContentLoaded";"deviceready"in document&&(t="deviceready"),document.addEventListener(t,(t=>{this.parse(),this.notify().then((()=>this.navigate(!0)))})),document.hasRouterPersist=!0}}watch(){window.hasRouterPop?this.parse():(window.addEventListener("popstate",(t=>{this.parse(),this.notify().then((()=>this.clear().then((()=>this.navigate().then((()=>{}))))))})),window.hasRouterPop=!0)}compile(t){let e={};for(let n in t){let i=t[n];n=String(n);const s=n.length;let o=n;if(["404"].includes(n)){const e=t[n];i={callback:e,name:n}}else o=o.slice(1);o=o.split("/"),o=o.map(((t,i)=>{let r=t.includes(":"),o="";if(o+=0==i?"^/":"/",o+=r?"(([^/#?]+?))":t,o+=i==s-1?"/?$":"",r){const r=t.replace(":","");e[n]||(e[n]={}),e[n].params={[r]:i}}return o})),e[n]&&e[n].params?e[n]={params:e[n].params,regex:new RegExp(o.join("")),...i}:e[n]={regex:new RegExp(o.join("")),...i},this.authValidRoute&&r.each(this.authValidRoute,function(t,e){t.key;let n=t.value;n==i.name&&(this.authRedirectRoute[n]?(this.authRedirectRoute[n]=i,console.error(`auth ${n} is found in other route`)):this.authRedirectRoute[n]=i)}.bind(this)),p.set(n,e[n])}return e.length=Object.keys(t).length,e.keys=Object.keys(t),e}parse(){let t,e,n=window.location.hash;if(n){let e=n.includes("#!/"),i=n.includes("#/");if(e||i){t=!0,e?n=n.split("#!").join(""):i&&(t=!0,n=n.split("#").join(""));let r="",s="";for(let t=0;t<n.length;t++){let e=n[t];"/"==e&&"/"==s||("/"!=e||s||(s="/",r+="/"),e&&"/"!=e&&(r+=e,s=""))}n=r,r=""}}else n="/",t=!0;if(!t)return;const i=new URL(`http://localhost${n}`);let r=i.search,s=i.pathname;const o=this.route.keys,l={},a={};r&&new URLSearchParams(r).forEach(((t,e)=>{l[e]=t}));let c=!1;for(let h=0;h<o.length;h++){const t=this.route[o[h]],n=t.regex,i=t.components,r=t.params,u=t.name,f=t.auth,p=t.overlay,d=t.display,m=t.onrender,g=t.controller;if(r){let t=String(s);t=t.slice(1),t=t.split("/"),Object.entries(r).forEach((e=>{const n=e[0],i=e[1];t[i]&&(a[n]=t[i])}))}if(n.test(s)){e=u,this.authenticate(e,f),this.prev={components:i,params:a,state:l,path:s,name:u,prev:this.prev,overlay:p,display:d,onrender:m,controller:g},c=!0;break}}this.redirect404(c)}redirect404(t){if(!t&&this.route[404]){let t=this.route[404].callback(),e=location.origin,n=location.pathname;this.route[t]?(t="/"==t?`${e}${n}`:"/"==n.slice(-1)?`${e}${n}#!${t}`:`${e}${n}/#!${t}`,location.replace(t)):t&&!this.route[t]&&("/"==e.slice(-1)&&"/"==t[0]&&(t=t.slice(1)),t=`${e}${t}`,location.replace(t))}}async navigate(e){if(this.prev){const e=[...this.prev.components],i=(this.prev.state,this.prev.path),s=this.prev.name,o=(this.prev.overlay,this.prev.onrender||{});if(this.loaderOptions&&this.loaderOptions.except&&!this.loaderOptions.except.includes(s)){let t=this.loaderOptions["in"],n=this.loaderOptions.out;"string"==typeof t&&"string"==typeof n&&(e.unshift(t),e.push(n))}try{if(e.length)return new Promise(((n,s)=>{const l=e.length;let a=0;if(l){const s=()=>{let l=e[a];if(e.length>a){a+=1;let e=l,n=this.getComponent(l,i);new Promise((t=>{let e=this.components.get(l);e&&e.isConnected!=undefined?t(e):setTimeout((()=>{t(this.components.get(l))}),50)})).then((i=>{if(i||(i=t[e]),i)if(i.isConnected&&!n)i.fire.softReload?(i.fire.softReload(),i.await.softReload&&i.await.softReload.then((()=>{s()}))):s();else if("model"==i.type)i.initialize().then((()=>{s()}))["catch"]((t=>{throw t}));else{let t=o[e]||{},n=i.onRenderConfig||{};r.isObject(n)||(n={}),r.isObject(t)||(t={}),i.render({emit:{route:this.prev},...t,...n}).then((()=>{i.await.isConnected?i.await.isConnected&&i.await.isConnected.then((()=>{s()})):s()}))["catch"]((t=>{throw t}))}}))}else n()};s()}else n()}))}catch(n){throw console.log(n),new Error(`some of the component in ${JSON.stringify(e)} in path ${i} of router is not found, make sure the it is created`)}}}static pushState(t,e,n){window.history.pushState(t,e,n);let i=Promise.resolve();if(this.prev){this.prev.components,this.prev.state;const t=this.prev.path;this.prev.name;i=new Promise(((e,n)=>{const i=components.length;let r=0;if(i){const n=async()=>{let i=components[r];components.length>r?(i=this.getComponent(i,t),i?(i.fire.destroy(),i.await.destroy.then((()=>n()))):await n()):e(),r+=1};n()}else e()}))}return i.then((()=>this.navigate()))}clear(){let t=Promise.resolve();if(this.prev&&this.prev.overlay||undefined)return t;const e=async function(t,n,i,r){let s=n[t],o=s,l=e;try{if(n.length>t)if(t+=1,s=this.getComponent(s,this.prev.path),s){if(!s.fire.destroy)throw new Error(`${o} has no destroy handler!`);s.fire.destroy(),s.await.destroy.then((()=>l(t,n,i,r)))}else await l(t,n,i,r);else r()}catch(a){throw a}}.bind(this);if(this.prev&&this.prev.prev){let n=this.prev.prev.components,i=(this.prev.prev.state,this.prev.prev.path,this.prev.prev.name,this.prev.prev.overlay),r=Promise.resolve();return i&&(r=new Promise(((t,i)=>{n.length?e(0,n,this.components,t):t()}))),t=new Promise(((t,i)=>{n.length?e(0,n,this.components,t):t()})),r.then((()=>t))}return t}pushState(t,e,n){window.history.pushState(t,e,n);let i=Promise.resolve();return this.clear(),i.then((()=>this.navigate()))}static subscribe(t){t&&"Function"==t.constructor.name&&n.push(t)}notify(){return Promise.all(n.map((t=>t())))}constructor(t,n){this.options=n,this.unauthRoute=null,this.componentConf=null,this.authValidRoute=null,this.loaderOptions=n.loader,this.authConfig=function(){if(!this.options)return;const t=this.options.auth,e=this.options.components;if(e&&(this.componentConf=e),t&&t.verify){const e=t.verify;this.verifyComponent=e[0],this.verifyComponentHandler=e[1],this.unauthRoute=t[401]}return t&&t.valid&&(this.authValidRoute=t.valid),null}.bind(this)(),this.authRedirectRoute={},this.route=this.compile(t),this.prev=null,this.components=R,this.watch(),this.persist(),Object.defineProperty(e.prototype,"$router",{configurable:!0,get:()=>({goTo:this.goTo.bind(this),goBack:this.goBack.bind(this),auth:this.auth.bind(this),logout:this.logout.bind(this),login:this.login.bind(this),verify:this.verifyAuth.bind(this),...this.prev}),set(t){}})}}};var ot;const lt=i("jU2nf")();ot=class{listen(t){t=R;let e="DOMContentLoaded";"deviceready"in document&&(e="deviceready"),window.addEventListener(e,(e=>{setTimeout((()=>{this.storage.getAll().then((e=>{if(e&&!e.length)for(let n=0;n<e.length;n++){let i=e[n],r=t.get(i);r.isConnected=!1,r?!r.isConnected&&r.render.bind(r)():console.error(`component ${r} is not found!`)}}))}))}))}append(t){this.storage.create(t)}remove(t){this.storage.remove(t)}constructor(){this.storage=new lt({child:"array",storage:"session",name:"_cake_persistent"})}};const at=i("jU2nf")();var ct,ht,ut={};const ft={handlers:{},subscribe:{}};function pt(t,e,n){return t[e]==undefined&&(t[e]={}),t[e][n]==undefined?t[e][n]=0:t[e][n]+=1,!0}window.Stat=ft,ht={handlers:{set:function(t,e){return pt(ft.handlers,t,e)},get:function(t){ft.handlers[t]!=undefined?console.table(ft.handlers[t]):console.log(null)}},subscribe:{set:function(t,e){return pt(ft.subscribe,t,e)},get:function(t){ft.subscribe[t]!=undefined?console.table(ft.subscribe[t]):console.log(null)}}};const dt={};window.Subscribe=dt,ct={set:function(t){return new Promise(((e,n)=>{for(component in t)if(t.hasOwnProperty(component)){let e=t[component];for(let t in e)if(e.hasOwnProperty(t)){let n=e[t];dt[component]||(dt[component]={}),dt[component][t]||(dt[component][t]=[]),dt[component][t].push(n),ht.subscribe.set(component,n.original)}}e()}))},get:function(t,e){return dt[t]&&dt[t][e]}};var mt;const gt={};function yt(t){this.logger=t||!1,this.results={}}window.Handler=gt,mt={set:function(t,e){return new Promise((n=>{for(let i in t)if(t.hasOwnProperty(i)){let n=t[i];gt[e]||(gt[e]={}),gt[e][n.original]=n,ht.handlers.set(e,n.original)}n()}))},get:function(t,e){return gt[t]&&gt[t][e]}},yt.prototype.notify=function(t,e,n){let i=t,r=e,s=n,o=mt.get(i,r);if(!o)return void console.error(`no setup handler for the event ${r} in ${i} component`);i=o.binded;let l=new Promise(((t,e)=>{t(o(s))}));return ht.handlers.set(i,o.original),l.then((t=>{let e=[];this.results[i]||(this.results[i]={});let n=ct.get(i,r);if(n)for(let s=0;s<n.length;s++){let o=n[s];ht.subscribe.set(i,o.original),e.push(new Promise(((e,n)=>{try{let s=o(t);s&&"Promise"==s.ObjectType?s.then((t=>{this.results[i]||(this.results[i]={}),this.results[i][r]=t,e(t)}))["catch"]((t=>{n(t)})):(this.results[i][r]=s,e(s))}catch(s){console.log(s),n(s)}})))}else this.logger&&console.info(`no subscriber for (${r}) event of (${i}) component`),this.results[i][r]=t;return Promise.all(e).then((()=>(t=null,e=[],!0)))}))},ut=yt;var bt;function vt(t){this.componentName=t,this.components={}}bt=function(t){class e{store(t,e){this.storage[t]=e}get options(){if("select"==this.type||"virtual"==this.type){let t={};for(let e in this.storage){let n=this.storage[e];t[e]=n.options}return t}return!1}get value(){if("input"==this.type){let t="";for(let e in this.storage){t=this.storage[e].options[0]}return t}return!1}get query(){let t={};for(let e in this.storage){t=this.storage[e].query[0]||null}return t}get has(){let t="";for(let e in this.storage){t=this.storage[e].query[0]||null}return t}constructor(t){this.type=t,this.storage={}}}const n={options:n=>{let i=n.options,r=n.params;i||(i=[]);let s=i.length>1;return Promise.all(i.map((n=>{n.control;let i=n.field,o=n.tbl,l=n.src,a=n.schema,c=n.type;return t.fire(l,{tbl:o,field:i,params:r}).then((t=>{if(t=t||[],n.query=t,t=t.map((t=>a(t))),"input"!=c){let e=a({});for(let t in e)e.hasOwnProperty(t)&&(e[t]="");t.unshift(e)}return n.options=t,n})).then((t=>{let n=t.type,i=t.control;n||(n="others");const r=new e(n);if(s){let e={};return e[i]||(e[i]=r,e[i].store(i,t)),e}return r.store(i,t),r}))}))).then((t=>s?t.reduce(((t,e)=>(Object.assign(t,e),t)),{}):t[0]))["catch"]((t=>{console.error(t)}))},plot:t=>{let e=t.data,n=t.container;if(!e&&!n)return;const i=(t,n,i)=>{if(!t)return void console.info("root is not provided!");const r=t.querySelectorAll(`${n}`),s=r.length;if(s)for(let o=0;o<s;o++){let t=r[o],n=t.name,s=i(t,e[n],o);if("break"==s)break}else i(null,e)};return i(n,"INPUT.input",(function(t,e){t&&e!=undefined&&("date"==t.type?(e="Invalid Date"==new Date(e)?"":new Date(e).toJSON().split("T")[0],t.value=e):t.value=e)})),i(n,"TEXTAREA.input",(function(t,e){t&&e!=undefined&&(t.value=e)})),setTimeout((()=>{i(n,"SELECT.input:not(.cake-template)",(function(t,e){t&&i(t,"OPTION:not(.cake-template)",(function(n,i,r){if(n){if(n.value==e)return t.selectedIndex=r,"break"}else console.log(n,i,"provide schema")}))}))}),500),Promise.resolve()}};return n},i("1WNVd"),vt.app=function(t){this.name=t.name||""},vt.Components=function(t){return{subscribe:(e,n)=>new Promise(((i,r)=>{let s=setInterval((()=>{vt.Components[t]&&(!function(){let i=vt.Components[t];if(i&&e instanceof Function){let t=e.name;n&&(e=e.bind(n)),e.binded="external",e.original=t,e.listenTo=i.name,i.Subscribe(e)}}(),clearInterval(s),i())}))}))}},vt.Models={},vt.plugin=a,vt.Attributes=new h,vt.Models.$loaded=function(t){return new Promise(((e,n)=>{let i=setInterval((()=>{vt.Models[t]&&(clearInterval(i),e(vt.Models[t]))}));setTimeout((()=>{vt.Models[t]||(clearInterval(i),n(t))}),1e4)}))},vt.MainMessageChannel=function(){let t=new MessageChannel;return{send(e){t.port2.postMessage(e)},receive(e){t.port1.onmessage=function(t){let n=t.data,i=t.isTrusted!=undefined&&t.isTrusted;e(i?{status:1,data:n}:{status:0,err:"not trusted!"})}}}}(),vt.Utils={scopeTrap:t=>!1,scopeNotifier:t=>t},vt.create=function(t,e,n){new vt(t,e,n).create(t,e,n)},vt.init=function(t){return new nt(t)},vt.Router=rt(vt.Models,nt),vt.Persistent=new ot,vt.Persistent.listen(vt.Components),vt.Cache=new at({name:"cache",storage:"session",child:"object"}),vt.getSubscriber=function(t,e){let n=ct,i={};for(let r in n)if(n.hasOwnProperty(r)){let s=n[r];for(let n in s)if(s.hasOwnProperty(n)){let r=s[n];for(let n of r){let r=n,s=r.original,o=r.binded;if(r.listenTo==t)if(s==e)if(i[o]){let t=i[o]instanceof Array?i[o]:[i[o]];i[o]=t.concat(e)}else i[o]=e;else if(!e)if(i[o]){let t=i[o]instanceof Array?i[o]:[i[o]];i[o]=t.concat(s)}else i[o]=s}}}return i},vt.Observer=new ut,vt.prototype._defineProperty=function(t,e,n,i){Object.defineProperty(t,e,{configurable:!0,get:()=>n(),set(t){i&&i(t)}})},vt.prototype._defineProperty(nt.prototype,"$observer",(function(){return vt.Observer})),vt._globalScope=new tt("globalScope"),vt.prototype._defineProperty(nt.prototype,"$globalScope",(function(){return vt._globalScope})),vt._universalScope=new tt("universalScope"),vt.$universalScope=function(){return vt._universalScope},vt.prototype._defineProperty(nt.prototype,"$attrib",(function(){return vt.Attributes})),vt.prototype._defineProperty(nt.prototype,"$persist",(function(){return vt.Persistent})),vt.prototype._defineProperty(nt.prototype,"$cache",(function(){return vt.Cache})),vt.prototype._defineProperty(nt.prototype,"$hash",(function(){return vt.Hasher})),vt.prototype.create=function(t,e,n){let i=new nt(t,e,n);const r=new tt(t);i.scope&&(()=>{for(let t in i.scope)if(i.scope.hasOwnProperty(t)){const e=i.scope[t];for(let n in e)if(e.hasOwnProperty(n)){let s=e[n];const o=s.name;s=s.bind(i),r.hook(t,o,s)}}})(),r.registerNotifier((function(t,e,n,i){return vt.Attributes.notifier(t,e,n,i)})),vt.Attributes.registerNotifier(t,(function(t,e){return r.notifier(t,e)})),i.compile.then((()=>{let t=i.subscribe,e=i.root,n=(i.html,i.handlers);i.role,i.state;return ct.set(t).then((()=>({root:e,handlers:n})))})).then((t=>{const e=t.handlers,n=t.root;mt.set(e,i.name),this._defineProperty(i,"root",(function(){if(i._root)return i._root;{let t=n||"#app",e=document.querySelectorAll(t);if(e)return e}throw new Error(`the selector '${n}' as container of component '${i.name}' is not found!`)}),(function(t){Object.assign(i,{_root:t})})),this._defineProperty(i,"$scope",(function(){return r})),"form"==i.role&&(()=>{const t=bt(i),e=()=>{if(i.root.length){let t=i.root[0],e=`${i.formSelector||"FORM"}:not(.cake-template)`;return t.querySelector(e)}return i.html.querySelector(i.formSelector||"FORM")};for(let n in t)t.hasOwnProperty(n)&&Object.defineProperty(e,n,{get:()=>t[n]});this._defineProperty(i,"$form",(function(){return e}))})()})).then((()=>{i.fire=function(){function t(t,e){if(e=e?"function"==typeof e?e.bind(i)():function(){return e}.bind(i)():null,fn={[t]:()=>e}[t].bind(i),"function"==typeof fn){fn.name=t,fn.original=t,fn.binded=i.name,mt.set({[t]:fn},i.name);let r=e;function n(t){let e={};if(!t)return e;let n=t.attributes;if(n)for(let i=0;i<n.length;i++){let t=n[i],r=t.name,s=t.value;e[r]=s}return e}if(e&&(e.element||e.root||e.container)){r={status:0,attributes:{element:n(e.element),root:n(e.root),container:n(e.container)}}}const s=vt.Observer.notify(i.name,t,{}).then((()=>vt.Observer.results[i.name][t]));return i.await[t]=s,i.await[t]}console.error("the param in fire is not an instance of function")}return function(t,e){for(let n in e)if(e.hasOwnProperty(n)){let r=e[n],s=r.original,o={[s]:function(t,e){return undefined,e==undefined&&"destroy"==s&&(e=!0),e==undefined&&(e=!1),e?(i.await[s]=new Promise((e=>{setTimeout((()=>{let n=t||{};vt.Observer.notify(i.name,s,n).then((()=>vt.Observer.results[i.name][s])).then((t=>{e(t)}))["catch"]((t=>{console.log(447,t),console.log(448,i.name,s,n),console.trace(),console.error(t)}))}))})),i.await[s]):r(t)}};o[s]=o[s].bind(i),o[s].originalName=s,o[s].binded=i.name,t[s]=o[s],t.component=i.name}}(t,i.handlers),t}()})).then((()=>{"view"==i.type&&(i.toggler=i.toggler(i),R.set(t,i))})).then((()=>{i.options.router&&vt.Router.subscribe(i.options.router.bind(i)),i.options.data&&i.options.data.bind(i.data)(i),i.options.utils&&i.options.utils.bind(i.utils)(i),i.options.init&&i.options.init.bind(i)()})).then((()=>{"model"==i.type&&(vt.Models[t]=i),i.isStatic&&"view"==i.type&&i.render()}))},c=vt,window.Cake=c}();
//# sourceMappingURL=legacy.js.map
